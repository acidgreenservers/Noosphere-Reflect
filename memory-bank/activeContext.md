# Active Context

## Current Focus
- **GOVERNANCE UPGRADE**: Established a comprehensive multi-agent specialist system and a robust protocol layer to ensure architectural, visual, and data stability.
- **GOAL**: Transition from ad-hoc implementation to a professional "Mind-State" workflow where specialists (AI Agents) enforce strict standards.

## Recent Changes
- **Agent Roster Expansion**:
    - **Gemini (Adversary Auditor)**: Scope widened to Security, Git Ops, and Project Analysis.
    - **Claude Code (Builder)**: Scope focused on Engineering, Debugging, and Code Maintenance.
    - **Antigravity (Consolidator)**: Established as the Workflow System & Architect.
    - **Data Architect (New)**: Guardian of the Schema and IndexedDB integrity.
    - **Design Agent (New)**: Enforcer of the "Noosphere Nexus" visual standards.
- **Parser Enhancements**:
    - **LeChat Overhaul**: Added support for timestamps, thinking blocks, rich tables, tool execution markers, and file attachments.
    - **Shared Logic (GPT/All)**: Improved code block extraction (prioritizing `innerText`), blockquote handling, and UI element cleanup.
- **Protocol Layer Establishment**:
    - `DESIGN_SYSTEM_PROTOCOL.md`: Visual tokens and component standards.
    - `CODING_STANDARDS_PROTOCOL.md`: Architectural constraints and style rules.
    - `QA_TESTING_PROTOCOL.md`: Regression prevention and CUJ checklists.
    - `EXTENSION_BRIDGE_PROTOCOL.md`: standards for Web<->Extension communication.
    - `RELEASE_PROTOCOL.md`: Versioning and migration rules.
    - `AI_COLLABORATION_PROTOCOL.md`: Rules of engagement for AI Agents.

## Active Decisions
- **Agent-Based Execution**: All significant changes must now be performed by the appropriate specialist agent according to their protocol.
- **Audit-First Engineering**: Every feature implementation must pass through the Gemini Security & QA gate before being marked as stable.
- **Modular Documentation**: `GEMINI.md` is now a hub that delegates to specific protocol and agent files in the `.agents/` directory.

## Next Steps
- **Verify Governance**: Test the new workflow on the next small task (e.g., Sprint 6.2 UX Polish).
- **Hardened Implementation**: Use the Data Architect and Design Agent to safely re-approach the "Dual Artifact" rendering fix.
