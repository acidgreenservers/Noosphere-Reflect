{
  "manifest_version": 3,
  "name": "Noosphere Reflect Bridge",
  "version": "0.3.0",
  "description": "Capture AI conversations from Claude, ChatGPT, LeChat, Llamacoder, Gemini, and Grok directly to Noosphere Reflect archive",
  "permissions": [
    "storage",
    "contextMenus",
    "activeTab"
  ],
  "host_permissions": [
    "https://claude.ai/*",
    "https://chatgpt.com/*",
    "https://chat.openai.com/*",
    "https://chat.mistral.ai/*",
    "https://llamacoder.together.ai/*",
    "https://gemini.google.com/*",
    "https://aistudio.google.com/*",
    "https://grok.com/*",
    "https://noosphere-reflect.pages.dev/*",
    "http://localhost/*",
    "http://127.0.0.1/*"
  ],
  "background": {
    "service_worker": "background/service-worker.js",
    "type": "module"
  },
  "content_scripts": [
    {
      "matches": [
        "https://claude.ai/*"
      ],
      "js": [
        "parsers/shared/types.js",
        "parsers/shared/markdown-extractor.js",
        "parsers/shared/serializers.js",
        "parsers/claude-parser.js",
        "storage/bridge-storage.js",
        "storage/settings-sync.js",
        "content-scripts/shared/toast-manager.js",
        "content-scripts/claude-capture.js",
        "content-scripts/ui-injector.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": [
        "https://chatgpt.com/*",
        "https://chat.openai.com/*"
      ],
      "js": [
        "parsers/shared/types.js",
        "parsers/shared/markdown-extractor.js",
        "parsers/shared/serializers.js",
        "parsers/gpt-parser.js",
        "storage/bridge-storage.js",
        "storage/settings-sync.js",
        "content-scripts/shared/toast-manager.js",
        "content-scripts/chatgpt-capture.js",
        "content-scripts/ui-injector.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": [
        "https://chat.mistral.ai/*"
      ],
      "js": [
        "parsers/shared/types.js",
        "parsers/shared/markdown-extractor.js",
        "parsers/shared/serializers.js",
        "parsers/lechat-parser.js",
        "storage/bridge-storage.js",
        "storage/settings-sync.js",
        "content-scripts/shared/toast-manager.js",
        "content-scripts/lechat-capture.js",
        "content-scripts/ui-injector.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": [
        "https://llamacoder.together.ai/*"
      ],
      "js": [
        "parsers/shared/types.js",
        "parsers/shared/markdown-extractor.js",
        "parsers/shared/serializers.js",
        "parsers/llamacoder-parser.js",
        "storage/bridge-storage.js",
        "storage/settings-sync.js",
        "content-scripts/shared/toast-manager.js",
        "content-scripts/llamacoder-capture.js",
        "content-scripts/ui-injector.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": [
        "https://gemini.google.com/*"
      ],
      "js": [
        "parsers/shared/types.js",
        "parsers/shared/markdown-extractor.js",
        "parsers/shared/serializers.js",
        "parsers/gemini-parser.js",
        "storage/bridge-storage.js",
        "storage/settings-sync.js",
        "content-scripts/shared/toast-manager.js",
        "content-scripts/gemini-capture.js",
        "content-scripts/ui-injector.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": [
        "https://grok.com/*"
      ],
      "js": [
        "parsers/shared/types.js",
        "parsers/shared/markdown-extractor.js",
        "parsers/shared/serializers.js",
        "parsers/grok-parser.js",
        "storage/bridge-storage.js",
        "storage/settings-sync.js",
        "content-scripts/shared/toast-manager.js",
        "content-scripts/grok-capture.js",
        "content-scripts/ui-injector.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": [
        "http://localhost:3000/*"
      ],
      "js": [
        "content-scripts/localhost-bridge.js"
      ],
      "run_at": "document_start",
      "all_frames": false
    }
  ],
  "action": {
    "default_title": "Noosphere Reflect Bridge"
  }
}